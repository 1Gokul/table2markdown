"use strict";var params=null,colsEdi=null;const tabID="input-table";var newColHtml="<div class='btn-group pull-right'><button id='bEdit' type='button' class='btn btn-secondary'  onclick='rowEdit(this);'><i class='fas fa-pencil-alt'></i></button><button id='bAddRowUp' type='button' class='btn btn-success'><i class='fas fa-plus'></i><i class='fas fa-long-arrow-alt-up'></i></button><button id='bAddRowDown' type='button' class='btn btn-success'><i class='fas fa-plus'></i><i class='fas fa-long-arrow-alt-down'></i></button><button id='bElim' type='button' class='btn btn-danger'  onclick='rowElim(this);'><i class='fas fa-trash' aria-hidden='true'></i></button><button id='bAcep' type='button' class='btn btn-success'  style='display:none;' onclick='rowAcep(this);'><i class='fas fa-check'></i></button>"+'<button id="bCanc" type="button" class="btn btn-danger" style="display:none;"  onclick="rowCancel(this);"><i class="fas fa-times" aria-hidden="true"></i></button></div>',saveColHtml="<div class=\"btn-group pull-right\"><button id='bEdit' type='button' class='btn btn-secondary' style='display:none;'><i class=\"fas fa-pencil-alt\"></i></button><button id='bAddRowUp' type='button' style='display:none;' class='btn btn-success'><i class=\"fas fa-plus\"></i><i class=\"fas fa-long-arrow-alt-up\"></i></button><button id='bAddRowDown' type='button' style='display:none;' class='btn btn-success'><i class=\"fas fa-plus\"></i><i class=\"fas fa-long-arrow-alt-down\"></i></button><button id='bElim' type='button' class='btn btn-danger' style='display:none;' onclick='rowElim(this);'><i class='fas fa-trash' aria-hidden='true'></i></button><button id='bAcep' type='button' class='btn btn-success'   onclick='rowAcep(this);'><i class='fas fa-check'></i></button><button id='bCanc' type='button' class='btn btn-danger'  onclick='rowCancel(this);'><i class='fas fa-times' aria-hidden='true'></i></button></div>";function IterarCamposEdit(t,n){var i=0;t.each(function(){i++,"buttons"!=$(this).attr("name")&&function(t){if(null==colsEdi)return!0;for(var n=0;n<colsEdi.length;n++)if(t==colsEdi[parseInt(n,10)])return!0;return!1}(i-1)&&n($(this))})}function FijModoNormal(t){$(".card-body").find(".bAcep").hide(200,"linear"),$(".card-body").find(".bCanc").hide(200,"linear"),$(".card-body").find(".bEdit").show(200,"linear"),$(".card-body").find(".bElim").show(200,"linear"),$(".card-body").find(".bAdd").show(200,"linear"),$(".card-body").find(".bAddRowUp").show(200,"linear"),$(".card-body").find(".bAddRowDown").show(200,"linear"),$(t).parents("tr").attr("id","")}function FijModoEdit(t){$(".card-body").find(".bAcep").show(200,"linear"),$(".card-body").find(".bCanc").show(200,"linear"),$(".card-body").find(".bEdit").hide(200,"linear"),$(".card-body").find(".bElim").hide(200,"linear"),$(".card-body").find(".bAdd").hide(200,"linear"),$(".card-body").find(".bAddRowUp").hide(200,"linear"),$(".card-body").find(".bAddRowDown").hide(200,"linear"),$(t).parents("tr").attr("id","editing")}function ModoEdicion(t){return"editing"==t.attr("id")}function rowAcep(t){var n=$(t).parents("tr"),i=n.find("td");ModoEdicion(n)&&(IterarCamposEdit(i,function(t){var n=t.find("input").val();t.html(n)}),FijModoNormal(t),params.onEdit(n))}function rowCancel(t){var n=$(t).parents("tr"),i=n.find("td");ModoEdicion(n)&&(IterarCamposEdit(i,function(t){var n=t.find("div").html();t.html(n)}),FijModoNormal(t))}function rowEdit(t){rowAcep($("tr[id='editing'] td"));var n=$(t).parents("tr"),i=n.find("td");ModoEdicion(n)||(IterarCamposEdit(i,function(t){var n=t.html(),i='<div style="display: none;">'+n+"</div>",o='<input class="form-control input-sm data-insert-cell"  style="min-width:30%" value="'+n+'">';t.html(i+o)}),FijModoEdit(t))}function rowElim(t){var n=$(t).parents("tr");params.onBeforeDelete(n),n.remove(),params.onDelete()}function rowAddNew(t){console.log(t),console.log($(this));var n=$("#"+t),i=(n.find("tbody tr"),n.find("thead tr").find("th")),o="";i.each(function(){"buttons"==$(this).attr("name")?o+=colEdicHtml:o+="<td></td>"}),$(this).closest("tr").insertAfter("<tr>"+o+"</tr>"),params.onAdd()}function TableToCSV(t,n){var i="",o="";return $("#"+t).find("tbody tr").each(function(){ModoEdicion($(this))&&$(this).find("#bAcep").click();var t=$(this).find("td");i="",t.each(function(){"buttons"==$(this).attr("name")||(i=i+$(this).html()+n)}),""!=i&&(i=i.substr(0,i.length-n.length)),o=o+i+"\n"}),o}$.fn.SetEditable=function(t){null!=(params=$.extend({columnsEd:null,$addButton:null,onEdit:function(){},onBeforeDelete:function(){},onDelete:function(){},onAdd:function(){}},t)).columnsEd&&(colsEdi=params.columnsEd.split(","))};